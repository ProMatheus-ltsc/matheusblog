(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{1540:function(s,a,e){"use strict";e.r(a);var t=e(24),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"docker镜像安装实践"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像安装实践"}},[s._v("#")]),s._v(" Docker镜像安装实践")]),s._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#安装步骤"}},[s._v("安装步骤")])]),e("li",[e("a",{attrs:{href:"#登陆mysql服务"}},[s._v("登陆mysql服务")])]),e("li",[e("a",{attrs:{href:"#停止和启动mysql服务"}},[s._v("停止和启动mysql服务")])]),e("li",[e("a",{attrs:{href:"#安装步骤"}},[s._v("安装步骤")])]),e("li",[e("a",{attrs:{href:"#访问redis服务器"}},[s._v("访问redis服务器")])]),e("li",[e("a",{attrs:{href:"#停止和启动redis服务"}},[s._v("停止和启动redis服务")])]),e("li",[e("a",{attrs:{href:"#安装步骤"}},[s._v("安装步骤")])]),e("li",[e("a",{attrs:{href:"#访问nginx服务"}},[s._v("访问nginx服务")])]),e("li",[e("a",{attrs:{href:"#停止和nginx服务"}},[s._v("停止和nginx服务")])]),e("li",[e("a",{attrs:{href:"#安装步骤"}},[s._v("安装步骤")])]),e("li",[e("a",{attrs:{href:"#访问nacos服务"}},[s._v("访问nacos服务")])]),e("li",[e("a",{attrs:{href:"#nacos-与-mysql-通讯分析"}},[s._v("Nacos 与 MySQL 通讯分析")])]),e("li",[e("a",{attrs:{href:"#停止和启动nacos服务"}},[s._v("停止和启动nacos服务")])])])]),e("p"),s._v(" "),e("h1",{attrs:{id:"安装mysql数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql数据库"}},[s._v("#")]),s._v(" 安装MySql数据库")]),s._v(" "),e("h2",{attrs:{id:"安装步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),e("p",[s._v("第一步：在hub.docker.com上搜索mysql镜像")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/bc2240bff07b4dc5816f0311437a0734.png",alt:"在这里插入图片描述"}})]),s._v(" "),e("p",[s._v("第二步：拉取指定版本的mysql，也可以指定拉取版本，例如：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" docker pull mysql:8.0.23\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第三步：检查mysql镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(" docker images\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第四步：启动运行mysql镜像 (docker run 用于启动一个容器)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo docker run -p 3306:3306 --name mysql \\\n-v /usr/local/docker/mysql/mysql-files:/var/lib/mysql-files \\\n-v /usr/local/docker/mysql/conf:/etc/mysql \\\n-v /usr/local/docker/mysql/logs:/var/log/mysql \\\n-v /usr/local/docker/mysql/data:/var/lib/mysql \\\n-e MYSQL_ROOT_PASSWORD=root \\\n-d mysql:8.0.23\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("假如安装过程中失败了，则可通过docker ps -a 查看以前的容器，假如已存在，则通过docker rm 镜像id 删除再重新安装即可。")]),s._v(" "),e("h2",{attrs:{id:"登陆mysql服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#登陆mysql服务"}},[s._v("#")]),s._v(" 登陆mysql服务")]),s._v(" "),e("p",[s._v("第一步：进入容器 (退出容器用exit)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo docker exec -it mysql bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步：登陆(默认密码root)，一定要先进入mysql容器。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mysql -uroot -proot\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"停止和启动mysql服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止和启动mysql服务"}},[s._v("#")]),s._v(" 停止和启动mysql服务")]),s._v(" "),e("p",[s._v("停止mysql服务（可选）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker stop mysql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("启动mysql服务")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker start mysql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("假如希望查看mysql启动时的日志，可以执行 docker container logs mysql 这个指令。")]),s._v(" "),e("p",[s._v("设置mysql开机自启动（可选）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker update mysql --restart=always\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"安装redis数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装redis数据库"}},[s._v("#")]),s._v(" 安装Redis数据库")]),s._v(" "),e("h2",{attrs:{id:"安装步骤-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤-2"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),e("p",[s._v("第一步：下载镜像文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull redis\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步：准备配置文件")]),s._v(" "),e("p",[s._v("创建redis配置文件目录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkdir -p /usr/local/docker/redis01/conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在配置文件录下创建redis.conf配置文件(这个文件一定要创建，否在我们进行目录挂载时默认生成的是一个目录)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("touch /usr/local/docker/redis01/conf/redis.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第三步：创建redis实例并启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo docker run -p 6379:6379 --name redis01 \\\n-v /usr/local/docker/redis01/data:/data \\\n-v /usr/local/docker/redis01/conf/redis.conf:/etc/redis/redis.conf \\\n-d redis redis-server /etc/redis/redis.conf \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("第四步：查看正在运行的进程")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker ps\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"访问redis服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问redis服务器"}},[s._v("#")]),s._v(" 访问redis服务器")]),s._v(" "),e("p",[s._v("第一步：控制台直接连接redis测试")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it redis01 bash\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步：检测redis 版本")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redis-server  -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("或者")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redis-cli -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第三步：登录redis(默认不需要密码)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("redis-cli\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("或者直接将上面的两个步骤合为一个步骤执行也可以，指令如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker exec -it redis01 redis-cli\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"停止和启动redis服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止和启动redis服务"}},[s._v("#")]),s._v(" 停止和启动redis服务")]),s._v(" "),e("blockquote",[e("p",[s._v("停止redis服务？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker stop redis01\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("启动redis服务？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker start redis01\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("重启 redis 服务？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker restart redis01\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"安装nginx代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx代理"}},[s._v("#")]),s._v(" 安装Nginx代理")]),s._v(" "),e("h2",{attrs:{id:"安装步骤-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤-3"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),e("p",[s._v("第一步：拉取nginx镜像 （从这里hub.docker.com去查找）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步：查看images镜像")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker images\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第三步:创建数据卷(这个对象会在宿主机直接创建一个目录)")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" volume create nginx-vol\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("说明:查看数据卷对应的宿主机目录,可以通过如下指令:")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect nginx-vol\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第四步：启动nginx服务")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker run --name nginx  -p 80:80 -v nginx-vol:/etc/nginx -d nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其中:/etc/nginx 为nginx容器启动时,nginx镜像文件默认的解压目录")]),s._v(" "),e("p",[s._v("说明:假如以后想修改nginx配置,可以直接去nginx-vol数据卷对应的目录去修改.")]),s._v(" "),e("h2",{attrs:{id:"访问nginx服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问nginx服务"}},[s._v("#")]),s._v(" 访问nginx服务")]),s._v(" "),e("p",[s._v("进行访问检测，如图所示：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/5bf24cb8cc4f45088899c12c7e12f516.png",alt:"在这里插入图片描述"}})]),s._v(" "),e("h2",{attrs:{id:"停止和nginx服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止和nginx服务"}},[s._v("#")]),s._v(" 停止和nginx服务")]),s._v(" "),e("blockquote",[e("p",[s._v("停止nginx服务")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker stop nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("启动nginx服务")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker start nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("重启nginx服务")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker restart nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"安装nacos组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装nacos组件"}},[s._v("#")]),s._v(" 安装Nacos组件")]),s._v(" "),e("h2",{attrs:{id:"安装步骤-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤-4"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),e("p",[s._v("第一步：拉取nacos（hub.docker.com）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker pull nacos/nacos-server:1.4.1\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第二步： mysql中执行nacos的sql脚本文件")]),s._v(" "),e("p",[s._v("1)将此文件nacos-mysql.sql(这个文件可从code服务器下载)拷贝到mysql容器的宿主机对应的挂载目录(可通过docker inspect mysql查看你mysql的挂载目录)")]),s._v(" "),e("p",[s._v("2)在linux环境下启动并登录mysql")]),s._v(" "),e("p",[s._v("进入mysql容器(前提是mysql已启动)")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mysql "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("登录mysql")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("mysql -uroot -p\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("3)通过source指令运行容器目录下的sql文件")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v("  /etc/mysql/nacos-mysql.sql  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这里的/etc/mysql为容器中的一个目录(要选择你自己挂载的目录)")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("例如:")]),s._v(" "),e("p",[s._v("第三步：创建并启动nacos容器(拷贝下面内容时,账号和密码要用自己宿主机ip,自己数据库的账号密码)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('docker run  \\\n-e TZ="Asia/Shanghai" \\\n-e MODE=standalone \\\n-e SPRING_DATASOURCE_PLATFORM=mysql \\\n-e MYSQL_DATABASE_NUM=1 \\\n-e MYSQL_SERVICE_HOST=192.168.126.129 \\\n-e MYSQL_SERVICE_PORT=3306 \\\n-e MYSQL_SERVICE_USER=root \\\n-e MYSQL_SERVICE_PASSWORD=root \\\n-e MYSQL_SERVICE_DB_NAME=nacos_config \\\n-p 8848:8848 \\\n--name nacos \\\n--restart=always \\\n-d nacos/nacos-server:1.4.1\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])]),e("p",[s._v("参数说明")]),s._v(" "),e("ul",[e("li",[s._v("单节点模式\nMODE=standalone")]),s._v(" "),e("li",[s._v("数据库地址\nMYSQL_SERVICE_HOST")]),s._v(" "),e("li",[s._v("数据库用户名\nMYSQL_SERVICE_USER")]),s._v(" "),e("li",[s._v("数据库密码\nMYSQL_SERVICE_PASSWORD")]),s._v(" "),e("li",[s._v("需连接的数据库名称\nMYSQL_SERVICE_DB_NAME")]),s._v(" "),e("li",[s._v("端口映射\n-p 8848:8848")]),s._v(" "),e("li",[s._v("任意时候重启容器，开机就能自动启动容器（需设置docker为开机自启）")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("--restart=always\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("第四步：检查nacos服务")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("假如启动失败，检查启动日志，例如：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker container logs nacos\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其中，nacos的启动日志在/home/nacos/logs/start.out文件中。")]),s._v(" "),e("h2",{attrs:{id:"访问nacos服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问nacos服务"}},[s._v("#")]),s._v(" 访问nacos服务")]),s._v(" "),e("p",[s._v("启动nacos，然后在windows中输入http://ip:port/nacos方式进行访问测试")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/47c437dc67ea440eb3edba6cc5ee5fa4.png",alt:"在这里插入图片描述"}}),s._v("\n说明,nacos登录时,默认用户名和密码都是nacos.")]),s._v(" "),e("h2",{attrs:{id:"nacos-与-mysql-通讯分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nacos-与-mysql-通讯分析"}},[s._v("#")]),s._v(" Nacos 与 MySQL 通讯分析")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/5be3239ccacc4d938635bbe11b93b4e0.png",alt:"在这里插入图片描述"}})]),s._v(" "),e("h2",{attrs:{id:"停止和启动nacos服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止和启动nacos服务"}},[s._v("#")]),s._v(" 停止和启动nacos服务")]),s._v(" "),e("blockquote",[e("p",[s._v("停止nacos服务")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop nacos\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("启动nacos服务")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start nacos\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("重启nacos服务")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart nacos\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h1",{attrs:{id:"总结-summary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结-summary"}},[s._v("#")]),s._v(" 总结（Summary）")]),s._v(" "),e("p",[s._v("本章节重点讲解了常用镜像服务的安装和基础配置，需要掌握镜像操作的基本过程和问题的解决方案。")])])}),[],!1,null,null,null);a.default=n.exports}}]);