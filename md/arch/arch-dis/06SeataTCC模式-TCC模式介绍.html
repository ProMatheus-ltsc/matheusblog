<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SeataTCC模式-TCC模式介绍 | MyBlog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="包含: Java 基础, JVM, Spring, Spring Boot, Spring Cloud, MySQL, ElasticSearch, MongoDB, Docker, k8s, Linux, DevOps, 分布式,  开发工具, Git, IDE...">
    
    <link rel="preload" href="/matheusblog/assets/css/0.styles.980a01be.css" as="style"><link rel="preload" href="/matheusblog/assets/js/app.e2f7af2d.js" as="script"><link rel="preload" href="/matheusblog/assets/js/3.f2f9a77d.js" as="script"><link rel="preload" href="/matheusblog/assets/js/122.fafbc4f7.js" as="script"><link rel="prefetch" href="/matheusblog/assets/js/10.463e5dad.js"><link rel="prefetch" href="/matheusblog/assets/js/100.f9fdbee1.js"><link rel="prefetch" href="/matheusblog/assets/js/101.9e176bd5.js"><link rel="prefetch" href="/matheusblog/assets/js/102.259004bb.js"><link rel="prefetch" href="/matheusblog/assets/js/103.a3b2390c.js"><link rel="prefetch" href="/matheusblog/assets/js/104.98cb1cfb.js"><link rel="prefetch" href="/matheusblog/assets/js/105.1cc517dc.js"><link rel="prefetch" href="/matheusblog/assets/js/106.138bd00e.js"><link rel="prefetch" href="/matheusblog/assets/js/107.7ec1c452.js"><link rel="prefetch" href="/matheusblog/assets/js/108.c7190794.js"><link rel="prefetch" href="/matheusblog/assets/js/109.fbc871ac.js"><link rel="prefetch" href="/matheusblog/assets/js/11.127f849f.js"><link rel="prefetch" href="/matheusblog/assets/js/110.38ade03f.js"><link rel="prefetch" href="/matheusblog/assets/js/111.9af3c380.js"><link rel="prefetch" href="/matheusblog/assets/js/112.131a57a5.js"><link rel="prefetch" href="/matheusblog/assets/js/113.b61ed838.js"><link rel="prefetch" href="/matheusblog/assets/js/114.9a8a756f.js"><link rel="prefetch" href="/matheusblog/assets/js/115.e85d06e8.js"><link rel="prefetch" href="/matheusblog/assets/js/116.1899a055.js"><link rel="prefetch" href="/matheusblog/assets/js/117.509c23ce.js"><link rel="prefetch" href="/matheusblog/assets/js/118.6abe0fc9.js"><link rel="prefetch" href="/matheusblog/assets/js/119.b16ae03e.js"><link rel="prefetch" href="/matheusblog/assets/js/12.5578e6f9.js"><link rel="prefetch" href="/matheusblog/assets/js/120.83115dd4.js"><link rel="prefetch" href="/matheusblog/assets/js/121.3a77bbbd.js"><link rel="prefetch" href="/matheusblog/assets/js/123.1cefa825.js"><link rel="prefetch" href="/matheusblog/assets/js/124.1005cf20.js"><link rel="prefetch" href="/matheusblog/assets/js/125.aa36e416.js"><link rel="prefetch" href="/matheusblog/assets/js/126.e97022a9.js"><link rel="prefetch" href="/matheusblog/assets/js/127.be431439.js"><link rel="prefetch" href="/matheusblog/assets/js/128.39cae4c7.js"><link rel="prefetch" href="/matheusblog/assets/js/129.05b57755.js"><link rel="prefetch" href="/matheusblog/assets/js/13.f3a55193.js"><link rel="prefetch" href="/matheusblog/assets/js/130.b369a649.js"><link rel="prefetch" href="/matheusblog/assets/js/131.9dc9522a.js"><link rel="prefetch" href="/matheusblog/assets/js/132.8bf655b9.js"><link rel="prefetch" href="/matheusblog/assets/js/133.d3dbd239.js"><link rel="prefetch" href="/matheusblog/assets/js/134.a73481fb.js"><link rel="prefetch" href="/matheusblog/assets/js/135.a9cc42a7.js"><link rel="prefetch" href="/matheusblog/assets/js/136.d4f5b5f6.js"><link rel="prefetch" href="/matheusblog/assets/js/137.bf3cec70.js"><link rel="prefetch" href="/matheusblog/assets/js/138.90b80146.js"><link rel="prefetch" href="/matheusblog/assets/js/139.1c61b5e2.js"><link rel="prefetch" href="/matheusblog/assets/js/14.cc04a62c.js"><link rel="prefetch" href="/matheusblog/assets/js/140.b84b42c7.js"><link rel="prefetch" href="/matheusblog/assets/js/141.ea96aade.js"><link rel="prefetch" href="/matheusblog/assets/js/142.62bb475b.js"><link rel="prefetch" href="/matheusblog/assets/js/143.021f674b.js"><link rel="prefetch" href="/matheusblog/assets/js/144.4974c73c.js"><link rel="prefetch" href="/matheusblog/assets/js/145.6b6635c3.js"><link rel="prefetch" href="/matheusblog/assets/js/146.47b12ab0.js"><link rel="prefetch" href="/matheusblog/assets/js/147.00611422.js"><link rel="prefetch" href="/matheusblog/assets/js/148.fded3842.js"><link rel="prefetch" href="/matheusblog/assets/js/149.eaa2fe32.js"><link rel="prefetch" href="/matheusblog/assets/js/15.f14c2d1f.js"><link rel="prefetch" href="/matheusblog/assets/js/150.a18db4cf.js"><link rel="prefetch" href="/matheusblog/assets/js/151.265df11f.js"><link rel="prefetch" href="/matheusblog/assets/js/152.8d20dc85.js"><link rel="prefetch" href="/matheusblog/assets/js/153.ed3c2e2d.js"><link rel="prefetch" href="/matheusblog/assets/js/154.f41ae746.js"><link rel="prefetch" href="/matheusblog/assets/js/155.de417fcd.js"><link rel="prefetch" href="/matheusblog/assets/js/156.caaddbbe.js"><link rel="prefetch" href="/matheusblog/assets/js/157.66d1a261.js"><link rel="prefetch" href="/matheusblog/assets/js/158.edfa2dfb.js"><link rel="prefetch" href="/matheusblog/assets/js/159.fcbc1d34.js"><link rel="prefetch" href="/matheusblog/assets/js/16.a1ef538e.js"><link rel="prefetch" href="/matheusblog/assets/js/160.ab5ac46e.js"><link rel="prefetch" href="/matheusblog/assets/js/161.9b0ebaed.js"><link rel="prefetch" href="/matheusblog/assets/js/162.5be1abbc.js"><link rel="prefetch" href="/matheusblog/assets/js/163.88b373be.js"><link rel="prefetch" href="/matheusblog/assets/js/164.5190887f.js"><link rel="prefetch" href="/matheusblog/assets/js/165.a2bb1b51.js"><link rel="prefetch" href="/matheusblog/assets/js/166.f023dde0.js"><link rel="prefetch" href="/matheusblog/assets/js/167.b67c2e59.js"><link rel="prefetch" href="/matheusblog/assets/js/168.9019a91e.js"><link rel="prefetch" href="/matheusblog/assets/js/169.cba26f51.js"><link rel="prefetch" href="/matheusblog/assets/js/17.d602bd0c.js"><link rel="prefetch" href="/matheusblog/assets/js/170.d08aacb9.js"><link rel="prefetch" href="/matheusblog/assets/js/171.9823e772.js"><link rel="prefetch" href="/matheusblog/assets/js/172.0244e387.js"><link rel="prefetch" href="/matheusblog/assets/js/173.6bdffe3f.js"><link rel="prefetch" href="/matheusblog/assets/js/174.06206658.js"><link rel="prefetch" href="/matheusblog/assets/js/175.ade3e5c7.js"><link rel="prefetch" href="/matheusblog/assets/js/176.bf1d012d.js"><link rel="prefetch" href="/matheusblog/assets/js/177.e1fa1fce.js"><link rel="prefetch" href="/matheusblog/assets/js/178.845745ad.js"><link rel="prefetch" href="/matheusblog/assets/js/179.767bc3fe.js"><link rel="prefetch" href="/matheusblog/assets/js/18.56a3482d.js"><link rel="prefetch" href="/matheusblog/assets/js/180.ed0d066e.js"><link rel="prefetch" href="/matheusblog/assets/js/181.fe8d9fde.js"><link rel="prefetch" href="/matheusblog/assets/js/182.548ced11.js"><link rel="prefetch" href="/matheusblog/assets/js/183.fb37e723.js"><link rel="prefetch" href="/matheusblog/assets/js/184.f3e7d92c.js"><link rel="prefetch" href="/matheusblog/assets/js/185.29d715d5.js"><link rel="prefetch" href="/matheusblog/assets/js/186.3ee7a69b.js"><link rel="prefetch" href="/matheusblog/assets/js/187.4ed12de4.js"><link rel="prefetch" href="/matheusblog/assets/js/188.30b302e7.js"><link rel="prefetch" href="/matheusblog/assets/js/189.4a45d34a.js"><link rel="prefetch" href="/matheusblog/assets/js/19.2d9346ad.js"><link rel="prefetch" href="/matheusblog/assets/js/190.bf63ea76.js"><link rel="prefetch" href="/matheusblog/assets/js/191.79f802d9.js"><link rel="prefetch" href="/matheusblog/assets/js/192.2523562d.js"><link rel="prefetch" href="/matheusblog/assets/js/193.8cdf9244.js"><link rel="prefetch" href="/matheusblog/assets/js/194.ec8369f4.js"><link rel="prefetch" href="/matheusblog/assets/js/195.8931299d.js"><link rel="prefetch" href="/matheusblog/assets/js/196.822e24bb.js"><link rel="prefetch" href="/matheusblog/assets/js/197.51cd67c5.js"><link rel="prefetch" href="/matheusblog/assets/js/198.96937c14.js"><link rel="prefetch" href="/matheusblog/assets/js/199.bc71bb7f.js"><link rel="prefetch" href="/matheusblog/assets/js/2.f1b3981c.js"><link rel="prefetch" href="/matheusblog/assets/js/20.1a348115.js"><link rel="prefetch" href="/matheusblog/assets/js/200.a2870cab.js"><link rel="prefetch" href="/matheusblog/assets/js/201.b5e61ebf.js"><link rel="prefetch" href="/matheusblog/assets/js/202.91bfb94e.js"><link rel="prefetch" href="/matheusblog/assets/js/203.1ecf8cc7.js"><link rel="prefetch" href="/matheusblog/assets/js/204.77d00dbc.js"><link rel="prefetch" href="/matheusblog/assets/js/205.deb21882.js"><link rel="prefetch" href="/matheusblog/assets/js/206.534084a0.js"><link rel="prefetch" href="/matheusblog/assets/js/207.b8270e2b.js"><link rel="prefetch" href="/matheusblog/assets/js/208.860107fb.js"><link rel="prefetch" href="/matheusblog/assets/js/209.780de087.js"><link rel="prefetch" href="/matheusblog/assets/js/21.5ed64e61.js"><link rel="prefetch" href="/matheusblog/assets/js/210.bbd0d30b.js"><link rel="prefetch" href="/matheusblog/assets/js/211.dba1f646.js"><link rel="prefetch" href="/matheusblog/assets/js/212.03df3f22.js"><link rel="prefetch" href="/matheusblog/assets/js/213.56b1755b.js"><link rel="prefetch" href="/matheusblog/assets/js/214.d0ec78ad.js"><link rel="prefetch" href="/matheusblog/assets/js/215.159c34e3.js"><link rel="prefetch" href="/matheusblog/assets/js/216.c346493b.js"><link rel="prefetch" href="/matheusblog/assets/js/217.f44cf060.js"><link rel="prefetch" href="/matheusblog/assets/js/218.1fd17553.js"><link rel="prefetch" href="/matheusblog/assets/js/219.3f7310e4.js"><link rel="prefetch" href="/matheusblog/assets/js/22.3d4fb027.js"><link rel="prefetch" href="/matheusblog/assets/js/220.bb27e55c.js"><link rel="prefetch" href="/matheusblog/assets/js/221.1d5c9bdb.js"><link rel="prefetch" href="/matheusblog/assets/js/222.b6ad304f.js"><link rel="prefetch" href="/matheusblog/assets/js/223.09a04717.js"><link rel="prefetch" href="/matheusblog/assets/js/224.78b09ad5.js"><link rel="prefetch" href="/matheusblog/assets/js/225.20a62088.js"><link rel="prefetch" href="/matheusblog/assets/js/226.9206ae95.js"><link rel="prefetch" href="/matheusblog/assets/js/227.63b9cd89.js"><link rel="prefetch" href="/matheusblog/assets/js/228.b3316ba0.js"><link rel="prefetch" href="/matheusblog/assets/js/229.9fbe533e.js"><link rel="prefetch" href="/matheusblog/assets/js/23.b1dcf032.js"><link rel="prefetch" href="/matheusblog/assets/js/230.d8d5e8b0.js"><link rel="prefetch" href="/matheusblog/assets/js/231.6ca9fca5.js"><link rel="prefetch" href="/matheusblog/assets/js/232.dd922df4.js"><link rel="prefetch" href="/matheusblog/assets/js/233.2779df29.js"><link rel="prefetch" href="/matheusblog/assets/js/234.02e1a849.js"><link rel="prefetch" href="/matheusblog/assets/js/235.bdb97a44.js"><link rel="prefetch" href="/matheusblog/assets/js/236.6c2e56b0.js"><link rel="prefetch" href="/matheusblog/assets/js/237.1b494b53.js"><link rel="prefetch" href="/matheusblog/assets/js/238.83e612bf.js"><link rel="prefetch" href="/matheusblog/assets/js/239.6ef60d2f.js"><link rel="prefetch" href="/matheusblog/assets/js/24.d81e4ed3.js"><link rel="prefetch" href="/matheusblog/assets/js/240.7683e593.js"><link rel="prefetch" href="/matheusblog/assets/js/241.645587c2.js"><link rel="prefetch" href="/matheusblog/assets/js/242.44ac130a.js"><link rel="prefetch" href="/matheusblog/assets/js/243.170695e7.js"><link rel="prefetch" href="/matheusblog/assets/js/244.90826bdf.js"><link rel="prefetch" href="/matheusblog/assets/js/245.a2c71122.js"><link rel="prefetch" href="/matheusblog/assets/js/246.00d45422.js"><link rel="prefetch" href="/matheusblog/assets/js/247.2f0482c9.js"><link rel="prefetch" href="/matheusblog/assets/js/248.2fcdc713.js"><link rel="prefetch" href="/matheusblog/assets/js/249.dad4f4b2.js"><link rel="prefetch" href="/matheusblog/assets/js/25.8c4437e3.js"><link rel="prefetch" href="/matheusblog/assets/js/250.66b29334.js"><link rel="prefetch" href="/matheusblog/assets/js/251.a28532ce.js"><link rel="prefetch" href="/matheusblog/assets/js/252.9d9cc2ca.js"><link rel="prefetch" href="/matheusblog/assets/js/253.76731565.js"><link rel="prefetch" href="/matheusblog/assets/js/254.98f4eafc.js"><link rel="prefetch" href="/matheusblog/assets/js/255.1cf64127.js"><link rel="prefetch" href="/matheusblog/assets/js/256.142b8efb.js"><link rel="prefetch" href="/matheusblog/assets/js/257.96d749a4.js"><link rel="prefetch" href="/matheusblog/assets/js/258.230e86d4.js"><link rel="prefetch" href="/matheusblog/assets/js/259.0e5d61c6.js"><link rel="prefetch" href="/matheusblog/assets/js/26.d2229fc5.js"><link rel="prefetch" href="/matheusblog/assets/js/260.4b240c14.js"><link rel="prefetch" href="/matheusblog/assets/js/261.a4a60768.js"><link rel="prefetch" href="/matheusblog/assets/js/262.5b8f4870.js"><link rel="prefetch" href="/matheusblog/assets/js/263.13779d6b.js"><link rel="prefetch" href="/matheusblog/assets/js/264.d2bfe62d.js"><link rel="prefetch" href="/matheusblog/assets/js/265.7781160f.js"><link rel="prefetch" href="/matheusblog/assets/js/266.76f8f0f0.js"><link rel="prefetch" href="/matheusblog/assets/js/267.fd66fbff.js"><link rel="prefetch" href="/matheusblog/assets/js/268.56cce0a4.js"><link rel="prefetch" href="/matheusblog/assets/js/269.a5fc9c14.js"><link rel="prefetch" href="/matheusblog/assets/js/27.178ba8fc.js"><link rel="prefetch" href="/matheusblog/assets/js/270.8d16ad5c.js"><link rel="prefetch" href="/matheusblog/assets/js/271.09c9c8c3.js"><link rel="prefetch" href="/matheusblog/assets/js/272.57ac1b8d.js"><link rel="prefetch" href="/matheusblog/assets/js/273.7bee3a36.js"><link rel="prefetch" href="/matheusblog/assets/js/274.fed00c0e.js"><link rel="prefetch" href="/matheusblog/assets/js/275.efec4124.js"><link rel="prefetch" href="/matheusblog/assets/js/276.998a97d2.js"><link rel="prefetch" href="/matheusblog/assets/js/277.0dd88917.js"><link rel="prefetch" href="/matheusblog/assets/js/278.530cc8da.js"><link rel="prefetch" href="/matheusblog/assets/js/279.35033c92.js"><link rel="prefetch" href="/matheusblog/assets/js/28.537f1363.js"><link rel="prefetch" href="/matheusblog/assets/js/280.78098c6f.js"><link rel="prefetch" href="/matheusblog/assets/js/281.ba0542c2.js"><link rel="prefetch" href="/matheusblog/assets/js/282.7b1449de.js"><link rel="prefetch" href="/matheusblog/assets/js/283.34954e55.js"><link rel="prefetch" href="/matheusblog/assets/js/284.fa24ec86.js"><link rel="prefetch" href="/matheusblog/assets/js/285.a8212efd.js"><link rel="prefetch" href="/matheusblog/assets/js/286.bc067ae0.js"><link rel="prefetch" href="/matheusblog/assets/js/287.3494fc45.js"><link rel="prefetch" href="/matheusblog/assets/js/288.7edc619d.js"><link rel="prefetch" href="/matheusblog/assets/js/289.cba7da7e.js"><link rel="prefetch" href="/matheusblog/assets/js/29.795202a6.js"><link rel="prefetch" href="/matheusblog/assets/js/290.63a0fd04.js"><link rel="prefetch" href="/matheusblog/assets/js/291.bdcae948.js"><link rel="prefetch" href="/matheusblog/assets/js/292.40a14b99.js"><link rel="prefetch" href="/matheusblog/assets/js/293.3aa940bb.js"><link rel="prefetch" href="/matheusblog/assets/js/294.aa352ffd.js"><link rel="prefetch" href="/matheusblog/assets/js/295.374e4a34.js"><link rel="prefetch" href="/matheusblog/assets/js/296.4aef21cd.js"><link rel="prefetch" href="/matheusblog/assets/js/297.c8a3d268.js"><link rel="prefetch" href="/matheusblog/assets/js/298.c389760e.js"><link rel="prefetch" href="/matheusblog/assets/js/299.ed7c4ee6.js"><link rel="prefetch" href="/matheusblog/assets/js/30.d042a9a7.js"><link rel="prefetch" href="/matheusblog/assets/js/300.2b694ef1.js"><link rel="prefetch" href="/matheusblog/assets/js/31.ca89cb77.js"><link rel="prefetch" href="/matheusblog/assets/js/32.536efbad.js"><link rel="prefetch" href="/matheusblog/assets/js/33.476549b0.js"><link rel="prefetch" href="/matheusblog/assets/js/34.ae079b2b.js"><link rel="prefetch" href="/matheusblog/assets/js/35.68e86a19.js"><link rel="prefetch" href="/matheusblog/assets/js/36.d20eeb87.js"><link rel="prefetch" href="/matheusblog/assets/js/37.58dc26df.js"><link rel="prefetch" href="/matheusblog/assets/js/38.bc9d4fd4.js"><link rel="prefetch" href="/matheusblog/assets/js/39.56b1816b.js"><link rel="prefetch" href="/matheusblog/assets/js/4.3d4cbda3.js"><link rel="prefetch" href="/matheusblog/assets/js/40.0296d2bf.js"><link rel="prefetch" href="/matheusblog/assets/js/41.fbc981bd.js"><link rel="prefetch" href="/matheusblog/assets/js/42.bf981aa0.js"><link rel="prefetch" href="/matheusblog/assets/js/43.87c132b4.js"><link rel="prefetch" href="/matheusblog/assets/js/44.7f91713a.js"><link rel="prefetch" href="/matheusblog/assets/js/45.ad51ce7f.js"><link rel="prefetch" href="/matheusblog/assets/js/46.38fc084c.js"><link rel="prefetch" href="/matheusblog/assets/js/47.1a77b172.js"><link rel="prefetch" href="/matheusblog/assets/js/48.1b17fcba.js"><link rel="prefetch" href="/matheusblog/assets/js/49.1e4b721f.js"><link rel="prefetch" href="/matheusblog/assets/js/5.0451fe06.js"><link rel="prefetch" href="/matheusblog/assets/js/50.9b8adcfd.js"><link rel="prefetch" href="/matheusblog/assets/js/51.2ee2168c.js"><link rel="prefetch" href="/matheusblog/assets/js/52.37b939c3.js"><link rel="prefetch" href="/matheusblog/assets/js/53.5c627df3.js"><link rel="prefetch" href="/matheusblog/assets/js/54.0825d71a.js"><link rel="prefetch" href="/matheusblog/assets/js/55.c874c72f.js"><link rel="prefetch" href="/matheusblog/assets/js/56.8940be9b.js"><link rel="prefetch" href="/matheusblog/assets/js/57.6e491e3e.js"><link rel="prefetch" href="/matheusblog/assets/js/58.ecd747c1.js"><link rel="prefetch" href="/matheusblog/assets/js/59.82510c47.js"><link rel="prefetch" href="/matheusblog/assets/js/6.4485af9e.js"><link rel="prefetch" href="/matheusblog/assets/js/60.6d960891.js"><link rel="prefetch" href="/matheusblog/assets/js/61.b8870e6b.js"><link rel="prefetch" href="/matheusblog/assets/js/62.5d8ea03b.js"><link rel="prefetch" href="/matheusblog/assets/js/63.f765787b.js"><link rel="prefetch" href="/matheusblog/assets/js/64.a8fbe47c.js"><link rel="prefetch" href="/matheusblog/assets/js/65.d4241dee.js"><link rel="prefetch" href="/matheusblog/assets/js/66.5b5ddf7b.js"><link rel="prefetch" href="/matheusblog/assets/js/67.cb05d0c6.js"><link rel="prefetch" href="/matheusblog/assets/js/68.73839524.js"><link rel="prefetch" href="/matheusblog/assets/js/69.b2d22552.js"><link rel="prefetch" href="/matheusblog/assets/js/7.b87f3fd6.js"><link rel="prefetch" href="/matheusblog/assets/js/70.ba9c3de1.js"><link rel="prefetch" href="/matheusblog/assets/js/71.4bd0e596.js"><link rel="prefetch" href="/matheusblog/assets/js/72.f275b0aa.js"><link rel="prefetch" href="/matheusblog/assets/js/73.b95ce8ea.js"><link rel="prefetch" href="/matheusblog/assets/js/74.5bf661b1.js"><link rel="prefetch" href="/matheusblog/assets/js/75.4b8dc3f0.js"><link rel="prefetch" href="/matheusblog/assets/js/76.59e7716e.js"><link rel="prefetch" href="/matheusblog/assets/js/77.bb9f77e9.js"><link rel="prefetch" href="/matheusblog/assets/js/78.3df401a8.js"><link rel="prefetch" href="/matheusblog/assets/js/79.42e4413e.js"><link rel="prefetch" href="/matheusblog/assets/js/8.32fba8af.js"><link rel="prefetch" href="/matheusblog/assets/js/80.4c88e227.js"><link rel="prefetch" href="/matheusblog/assets/js/81.c56fdc42.js"><link rel="prefetch" href="/matheusblog/assets/js/82.9915fef6.js"><link rel="prefetch" href="/matheusblog/assets/js/83.61db9497.js"><link rel="prefetch" href="/matheusblog/assets/js/84.a2d23b7d.js"><link rel="prefetch" href="/matheusblog/assets/js/85.2ab9679d.js"><link rel="prefetch" href="/matheusblog/assets/js/86.71212b78.js"><link rel="prefetch" href="/matheusblog/assets/js/87.c2ab0731.js"><link rel="prefetch" href="/matheusblog/assets/js/88.88b7027a.js"><link rel="prefetch" href="/matheusblog/assets/js/89.311fc692.js"><link rel="prefetch" href="/matheusblog/assets/js/9.b810b258.js"><link rel="prefetch" href="/matheusblog/assets/js/90.2ceb17c7.js"><link rel="prefetch" href="/matheusblog/assets/js/91.735a999e.js"><link rel="prefetch" href="/matheusblog/assets/js/92.3aa58421.js"><link rel="prefetch" href="/matheusblog/assets/js/93.1bbb3be1.js"><link rel="prefetch" href="/matheusblog/assets/js/94.c0cd9eca.js"><link rel="prefetch" href="/matheusblog/assets/js/95.2c6d53b9.js"><link rel="prefetch" href="/matheusblog/assets/js/96.0bfee159.js"><link rel="prefetch" href="/matheusblog/assets/js/97.f6b468ed.js"><link rel="prefetch" href="/matheusblog/assets/js/98.0fb1a7cf.js"><link rel="prefetch" href="/matheusblog/assets/js/99.396fd404.js">
    <link rel="stylesheet" href="/matheusblog/assets/css/0.styles.980a01be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/matheusblog/" class="home-link router-link-active"><!----> <span class="site-name">MyBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Menu" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java Menu" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/basic/helloworld.html" class="nav-link">
  认识编程
</a></li></ul></li><li class="dropdown-item"><h4>
          集合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/collection/泛型和集合.html" class="nav-link">
  泛型和集合
</a></li></ul></li><li class="dropdown-item"><h4>
          IO
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/io/IO.html" class="nav-link">
  IO
</a></li></ul></li><li class="dropdown-item"><h4>
          并发编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/thread/多线程.html" class="nav-link">
  多线程
</a></li></ul></li><li class="dropdown-item"><h4>
          JVM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/jvm/00虚拟机内存体系与垃圾回收.html" class="nav-link">
  JVM简介
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web Menu" class="dropdown-title"><span class="title">Web基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web Menu" class="mobile-dropdown-title"><span class="title">Web基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HTML5
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/html5/01HTML概述.html" class="nav-link">
  HTML概述
</a></li></ul></li><li class="dropdown-item"><h4>
          CSS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/css/01基础选择器+字体文本样式.html" class="nav-link">
  基础选择器+字体文本样式
</a></li></ul></li><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/js/01JavaScript基础.html" class="nav-link">
  JavaScript基础
</a></li></ul></li><li class="dropdown-item"><h4>
          VUE
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/vue/02模板语法.html" class="nav-link">
  Vue简介与安装使用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="database Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="database Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySQL
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/mysql/01数据库软件的安装与使用.html" class="nav-link">
  数据库软件的安装与使用
</a></li></ul></li><li class="dropdown-item"><h4>
          MongoDB
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/mongodb/01数据库和集合基本操作.html" class="nav-link">
  数据库和集合基本操作
</a></li></ul></li><li class="dropdown-item"><h4>
          ElasticSearch
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/elasticsearch/02Elasticsearch-Docker搭建ES.html" class="nav-link">
  Docker搭建ES
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringFramework Menu" class="dropdown-title"><span class="title">SpringFramework</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringFramework Menu" class="mobile-dropdown-title"><span class="title">SpringFramework</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Maven
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/maven/02Maven入门基础.html" class="nav-link">
  Maven入门基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/spring/Spring概述.html" class="nav-link">
  Spring概述
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringMVC
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/springmvc/springMVC框架.html" class="nav-link">
  SpringMVC框架
</a></li></ul></li><li class="dropdown-item"><h4>
          MyBatis-plus
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/mybatis/01MyBatis简介.html" class="nav-link">
  MyBatis简介
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/springboot/SpringBoot简介.html" class="nav-link">
  SpringBoot简介
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Devops Menu" class="dropdown-title"><span class="title">DevOps</span> <span class="arrow down"></span></button> <button type="button" aria-label="Devops Menu" class="mobile-dropdown-title"><span class="title">DevOps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/linux/00 Centos.html" class="nav-link">
  CentOS
</a></li></ul></li><li class="dropdown-item"><h4>
          tools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/tools/VS Code使用.html" class="nav-link">
  VS Code使用
</a></li></ul></li><li class="dropdown-item"><h4>
          k8s
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/k8s/01Kubernetes介绍及使用.html" class="nav-link">
  K8s介绍与使用
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/matheusblog/md/springcloud/note.html" class="nav-link">
  SpringCloud
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="develop Menu" class="dropdown-title"><span class="title">开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="develop Menu" class="mobile-dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          代码质量
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/develop/code-style/effective-java/目录.html" class="nav-link">
  Effective-Java
</a></li><li class="dropdown-subitem"><a href="/matheusblog/md/develop/JUnit/01什么是单元测试.html" class="nav-link">
  单元测试
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/matheusblog/md/arch/计算机软件架构发展历史.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="other-languages Menu" class="dropdown-title"><span class="title">其他语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="other-languages Menu" class="mobile-dropdown-title"><span class="title">其他语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Go
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/go/01Go语言介绍.html" class="nav-link">
  Go语言介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          Scala
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/scala/Scala学习宝典.html" class="nav-link">
  Scala学习宝典
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/python/Python基础学习.html" class="nav-link">
  Python基础学习
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Menu" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java Menu" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/basic/helloworld.html" class="nav-link">
  认识编程
</a></li></ul></li><li class="dropdown-item"><h4>
          集合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/collection/泛型和集合.html" class="nav-link">
  泛型和集合
</a></li></ul></li><li class="dropdown-item"><h4>
          IO
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/io/IO.html" class="nav-link">
  IO
</a></li></ul></li><li class="dropdown-item"><h4>
          并发编程
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/thread/多线程.html" class="nav-link">
  多线程
</a></li></ul></li><li class="dropdown-item"><h4>
          JVM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/java/jvm/00虚拟机内存体系与垃圾回收.html" class="nav-link">
  JVM简介
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web Menu" class="dropdown-title"><span class="title">Web基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Web Menu" class="mobile-dropdown-title"><span class="title">Web基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          HTML5
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/html5/01HTML概述.html" class="nav-link">
  HTML概述
</a></li></ul></li><li class="dropdown-item"><h4>
          CSS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/css/01基础选择器+字体文本样式.html" class="nav-link">
  基础选择器+字体文本样式
</a></li></ul></li><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/js/01JavaScript基础.html" class="nav-link">
  JavaScript基础
</a></li></ul></li><li class="dropdown-item"><h4>
          VUE
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/web/vue/02模板语法.html" class="nav-link">
  Vue简介与安装使用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="database Menu" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="database Menu" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          MySQL
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/mysql/01数据库软件的安装与使用.html" class="nav-link">
  数据库软件的安装与使用
</a></li></ul></li><li class="dropdown-item"><h4>
          MongoDB
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/mongodb/01数据库和集合基本操作.html" class="nav-link">
  数据库和集合基本操作
</a></li></ul></li><li class="dropdown-item"><h4>
          ElasticSearch
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/db/elasticsearch/02Elasticsearch-Docker搭建ES.html" class="nav-link">
  Docker搭建ES
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="SpringFramework Menu" class="dropdown-title"><span class="title">SpringFramework</span> <span class="arrow down"></span></button> <button type="button" aria-label="SpringFramework Menu" class="mobile-dropdown-title"><span class="title">SpringFramework</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Maven
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/maven/02Maven入门基础.html" class="nav-link">
  Maven入门基础
</a></li></ul></li><li class="dropdown-item"><h4>
          Spring
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/spring/Spring概述.html" class="nav-link">
  Spring概述
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringMVC
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/springmvc/springMVC框架.html" class="nav-link">
  SpringMVC框架
</a></li></ul></li><li class="dropdown-item"><h4>
          MyBatis-plus
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/mybatis/01MyBatis简介.html" class="nav-link">
  MyBatis简介
</a></li></ul></li><li class="dropdown-item"><h4>
          SpringBoot
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/spring/springboot/SpringBoot简介.html" class="nav-link">
  SpringBoot简介
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Devops Menu" class="dropdown-title"><span class="title">DevOps</span> <span class="arrow down"></span></button> <button type="button" aria-label="Devops Menu" class="mobile-dropdown-title"><span class="title">DevOps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          linux
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/linux/00 Centos.html" class="nav-link">
  CentOS
</a></li></ul></li><li class="dropdown-item"><h4>
          tools
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/tools/VS Code使用.html" class="nav-link">
  VS Code使用
</a></li></ul></li><li class="dropdown-item"><h4>
          k8s
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/devops/k8s/01Kubernetes介绍及使用.html" class="nav-link">
  K8s介绍与使用
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/matheusblog/md/springcloud/note.html" class="nav-link">
  SpringCloud
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="develop Menu" class="dropdown-title"><span class="title">开发</span> <span class="arrow down"></span></button> <button type="button" aria-label="develop Menu" class="mobile-dropdown-title"><span class="title">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          代码质量
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/develop/code-style/effective-java/目录.html" class="nav-link">
  Effective-Java
</a></li><li class="dropdown-subitem"><a href="/matheusblog/md/develop/JUnit/01什么是单元测试.html" class="nav-link">
  单元测试
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/matheusblog/md/arch/计算机软件架构发展历史.html" class="nav-link">
  架构
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="other-languages Menu" class="dropdown-title"><span class="title">其他语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="other-languages Menu" class="mobile-dropdown-title"><span class="title">其他语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Go
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/go/01Go语言介绍.html" class="nav-link">
  Go语言介绍
</a></li></ul></li><li class="dropdown-item"><h4>
          Scala
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/scala/Scala学习宝典.html" class="nav-link">
  Scala学习宝典
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/matheusblog/md/other-languages/python/Python基础学习.html" class="nav-link">
  Python基础学习
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matheusblog/md/arch/计算机软件架构发展历史.html" class="sidebar-link">计算机软件架构发展历史</a></li><li><a href="/matheusblog/md/arch/分层与模块化.html" class="sidebar-link">分层与模块化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>分布式事务</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/matheusblog/md/arch/arch-dis/01MySQL本地事务和事务隔离级别.html" class="sidebar-link">MySQL本地事务和事务隔离级别</a></li><li><a href="/matheusblog/md/arch/arch-dis/02分布式事务方案.html" class="sidebar-link">分布式事务方案</a></li><li><a href="/matheusblog/md/arch/arch-dis/03Seata分布式事务框架-AT模式介绍.html" class="sidebar-link">Seata分布式事务框架-AT模式介绍</a></li><li><a href="/matheusblog/md/arch/arch-dis/04SeataAT模式-SpringCloud微服务案例.html" class="sidebar-link">SeataAT模式-SpringCloud微服务案例</a></li><li><a href="/matheusblog/md/arch/arch-dis/05SeataAT模式-SpringCloud微服务添加AT分布式事务.html" class="sidebar-link">SeataAT模式-SpringCloud微服务添加AT分布式事务</a></li><li><a href="/matheusblog/md/arch/arch-dis/06SeataTCC模式-TCC模式介绍.html" class="active sidebar-link">SeataTCC模式-TCC模式介绍</a></li><li><a href="/matheusblog/md/arch/arch-dis/07SeataTCC模式-SpringCloud微服务添加TCC分布式事务.html" class="sidebar-link">SeataTCC模式-SpringCloud微服务添加TCC分布式事务</a></li><li><a href="/matheusblog/md/arch/arch-dis/08SpringCloud微服务系统基于RocketMQ可靠消息最终一致性实现分布式事务.html" class="sidebar-link">SpringCloud微服务系统基于RocketMQ可靠消息最终一致性实现分布式事务</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="seatatcc模式-tcc模式介绍"><a href="#seatatcc模式-tcc模式介绍" class="header-anchor">#</a> SeataTCC模式-TCC模式介绍</h1> <p></p><div class="table-of-contents"><ul><li><a href="#tcc-基本原理">TCC 基本原理</a><ul><li><a href="#第一阶段-try">第一阶段 Try</a></li><li><a href="#第二阶段-confirm">第二阶段 Confirm</a></li><li><a href="#第二阶段-cancel">第二阶段 Cancel</a></li><li><a href="#多个事务并发的情况">多个事务并发的情况</a></li></ul></li><li><a href="#seata-tcc事务模式">Seata TCC事务模式</a></li></ul></div><p></p> <h2 id="tcc-基本原理"><a href="#tcc-基本原理" class="header-anchor">#</a> TCC 基本原理</h2> <p>TCC 与 Seata AT 事务一样都是<strong>两阶段事务</strong>，它与 AT 事务的主要区别为：</p> <ul><li><strong>TCC 对业务代码侵入严重</strong>
每个阶段的数据操作都要自己进行编码来实现，事务框架无法自动处理。</li> <li><strong>TCC 效率更高</strong>
不必对数据加<strong>全局锁</strong>，允许多个事务同时操作数据。</li></ul> <p><img src="https://img-blog.csdnimg.cn/2020073022341983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <h3 id="第一阶段-try"><a href="#第一阶段-try" class="header-anchor">#</a> 第一阶段 Try</h3> <p>以账户服务为例，当下订单时要扣减用户账户金额：</p> <p><img src="https://img-blog.csdnimg.cn/2020073019240411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <p>假如用户购买 100 元商品，要扣减 100 元。</p> <p>TCC 事务首先对这100元的扣减金额进行预留，或者说是先冻结这100元：</p> <p><img src="https://img-blog.csdnimg.cn/20200730192602828.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <h3 id="第二阶段-confirm"><a href="#第二阶段-confirm" class="header-anchor">#</a> 第二阶段 Confirm</h3> <p>如果第一阶段能够顺利完成，那么说明“扣减金额”业务（分支事务）最终肯定是可以成功的。当全局事务提交时， TC会控制当前分支事务进行提交，如果提交失败，TC 会反复尝试，直到提交成功为止。</p> <p>当全局事务提交时，就可以使用冻结的金额来最终实现业务数据操作：</p> <p><img src="https://img-blog.csdnimg.cn/20200730214849953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <h3 id="第二阶段-cancel"><a href="#第二阶段-cancel" class="header-anchor">#</a> 第二阶段 Cancel</h3> <p>如果全局事务回滚，就把冻结的金额进行解冻，恢复到以前的状态，TC 会控制当前分支事务回滚，如果回滚失败，TC 会反复尝试，直到回滚完成为止。</p> <p><img src="https://img-blog.csdnimg.cn/2020073021565349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <h3 id="多个事务并发的情况"><a href="#多个事务并发的情况" class="header-anchor">#</a> 多个事务并发的情况</h3> <p>多个TCC全局事务允许并发，它们执行扣减金额时，只需要冻结各自的金额即可：</p> <p><img src="https://img-blog.csdnimg.cn/20200730220743117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zODMwNTQ0MA==,size_16,color_FFFFFF,t_70#pic_center" alt="a"></p> <h2 id="seata-tcc事务模式"><a href="#seata-tcc事务模式" class="header-anchor">#</a> Seata TCC事务模式</h2> <p>Seata 支持 TCC 事务模式，与 AT 模式相同的，也需要以下组件来支持全局事务的控制：</p> <ul><li>TC 事务协调器</li> <li>TM 事务管理器</li> <li>RM 资源管理器</li></ul> <p>下一节，我们还是以订单业务为例，来演示 Seata 如何实现 TCC 事务。</p> <blockquote><p><a href="https://gitee.com/benwang6/seata-samples" target="_blank" rel="noopener noreferrer">项目源码：<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/matheusblog/md/arch/arch-dis/05SeataAT模式-SpringCloud微服务添加AT分布式事务.html" class="prev">
        SeataAT模式-SpringCloud微服务添加AT分布式事务
      </a></span> <span class="next"><a href="/matheusblog/md/arch/arch-dis/07SeataTCC模式-SpringCloud微服务添加TCC分布式事务.html">
        SeataTCC模式-SpringCloud微服务添加TCC分布式事务
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/matheusblog/assets/js/app.e2f7af2d.js" defer></script><script src="/matheusblog/assets/js/3.f2f9a77d.js" defer></script><script src="/matheusblog/assets/js/122.fafbc4f7.js" defer></script>
  </body>
</html>
